!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t,i){const n=i(5);e.exports=class extends n{constructor(e,t,i,n,s,a){super(n,s,a),this.image=new Image,this.image.src=e,this.maxFrames=this.image.width/t,this.maxAnimations=this.image.height/i,this.spriteWidth=t,this.spriteHeight=i,this.frame=0,this.animation=0,this.sprint=!1}draw(e){let t=this.generateDrawRect();e.drawImage(this.image,t.x,t.y,t.width,t.height,this.x,this.y,this.spriteWidth,this.spriteHeight)}update(){super.update(),!0===this.keyHit&&this.updateFrame()}generateDrawRect(){return{x:this.spriteWidth*this.frame,y:this.spriteHeight*this.animation,height:this.spriteHeight,width:this.spriteWidth}}updateFrame(){++this.frame,this.frame>=this.maxFrames&&(this.frame=0)}updateImage(e){this.image.src=e}getWidth(){return this.spriteWidth}getHeight(){return this.spriteHeight}}},function(e,t,i){i(0);const n=i(2),s=i(6);i(3);e.exports=class{constructor(e,t,i,a,r,h,o,c,g,d,p){let l=this;this.generationBar,this.averageIq=e,this.wordsSpoken=t,this.income=i,this.education=a,this.coefIQ=r,this.coefEdu=h,this.coefIncome=o,this.intercept=c,this.environmentCanvas=document.createElement("canvas"),this.environmentCanvas.style.top=0,this.environmentCount=g,this.environmentCanvas.width=d,this.environmentCanvas.height=p,this.generation=0,this.generationUpdateNeeded=!1,this.newAverageIQ=this.averageIq,this.environmentID,this.environmentCanvas.onclick=function(e){l.onClick(e)},document.body.appendChild(this.environmentCanvas),this.environmentContext=this.environmentCanvas.getContext("2d"),this.environmentContext.font="bolder 20px Arial",this.environmentContext.fillStyle="#FF0000",this.environmentContext.lineWidth=500,this.fps=24,this.gameObjects=[],this.canvasWidth=d,this.canvasHeight=p;for(let e=0;e<10;e++){let e=new n(this.averageIq,this.wordsSpoken,this.income,this.education,this.coefIQ,this.coefEdu,this.coefIncome,this.intercept);this.gameObjects.push(e);let t=new s(l,e);e.attachBehavior(t),e.getBehavior(t)}this.interval=setInterval(function(){l.gameLoop()},1e3/24),this.fixedInterval=setInterval(function(){l.fixedUpdate()},2e3)}gameLoop(){this.environmentContext.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.update(),this.draw(this.environmentContext),this.lateUpdate(),this.generationBar.endProgram&&(clearInterval(this.inteval),clearInterval(this.fixedInterval))}onClick(e){this.gameObjects.forEach(t=>{t instanceof n&&t.getX()+t.getWidth()>=e.offsetX&&t.getY()<=e.offsetY&&t.getY()+t.getHeight()>=e.offsetY&&t.onClick(e)}),console.log("x:"+e.offsetX+" y:"+e.offsetY)}draw(e){this.gameObjects.forEach(t=>{t.draw(e)})}update(){this.gameObjects.forEach(e=>{e.update()}),this.environmentContext.fillText("Environment "+this.environmentID+": Generation "+this.generation,this.environmentCanvas.width/8-20,50),this.environmentContext.font="15px Arial",this.environmentContext.fillText("Average Environment IQ: "+Math.round(100*this.newAverageIQ)/100,this.environmentCanvas.width/8-20,this.environmentCanvas.height-50),this.environmentContext.font="bolder 20px Arial"}lateUpdate(){this.gameObjects.forEach(e=>{e.lateUpdate()})}fixedUpdate(){this.generation+=1,this.generationBar.barIncrease(),console.log("Generation: "+this.generation),this.bubbleSort(this.gameObjects);for(let e=0;e<this.gameObjects.length-1;e++)this.getRelativeDistance(this.gameObjects[e],this.gameObjects[e+1])<16&&this.average(this.gameObjects[e],this.gameObjects[e+1]);this.gameObjects.forEach(e=>{e.fixedUpdate()}),this.newAverageIQ=0;for(let e=0;e<this.gameObjects.length;e++)this.newAverageIQ+=this.round(this.gameObjects[e].intelligence,2);this.newAverageIQ/=this.gameObjects.length;for(let e=0;e<this.gameObjects.length;e++)this.gameObjects[e].avgEnvIq=this.newAverageIQ;console.log("Average Environment IQ: "+this.round(this.newAverageIQ,2))}getWidth(){return this.canvasWidth}getHeight(){return this.canvasHeight}getGameObjects(){return this.gameObjects}getRelativeDistance(e,t){return this.x1=e.getX(),this.x2=t.getX(),this.y1=e.getY(),this.y2=t.getY(),this.distance=Math.sqrt(this.x2-this.x1^this.y2-this.y1+2^2),this.distance}getDistanceFromEdge(e){this.x=e.getX(),this.y=e.getY(),this.distance=Math.sqrt(this.x^2+this.y^2)}bubbleSort(e){this.len=e.length;for(let t=this.len-1;t>=0;t--)for(let i=1;i<=t;i++)this.getDistanceFromEdge(e[i-1])>this.getDistanceFromEdge(e[i])&&(this.temp=e[i-1],e[i-1]=e[i],e[i]=this.temp);return e}average(e,t){e.setInteractionIQ(e.intelligence,t.intelligence),t.setInteractionIQ(e.intelligence,t.intelligence),this.education=(e.education+t.education)/2,this.income=(e.income+t.income)/2}round(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}getGenerationBar(e){this.generationBar=e}getEnvironmentID(e){this.environmentID=e}checkPaused(){this.generationBar.endProgram&&(clearInterval(this.inteval),clearInterval(this.fixedInterval))}}},function(e,t,i){const n=i(0);e.exports=class extends n{constructor(e,t,i,n,s,a,r,h){super("data/graphics/sprites/sprite1.png",32,32,32,32,0),this.avgEnvIq=e,this.income=(.1*Math.random()+.95)*i,this.education=(.1*Math.random()+.95)*n,this.intelligence=(.1*Math.random()+.95)*e,this.coefIQ=s,this.coefEdu=a,this.coefIncome=r,this.intercept=h,this.interactionIQ=this.avgEnvIq}update(){super.update(),this.intelligence<=50?(super.updateImage("data/graphics/sprites/B2R1.png"),this.behavior.setMaxSpeed(3)):this.intelligence>50&&this.intelligence<=55?(super.updateImage("data/graphics/sprites/B2R2.png"),this.behavior.setMaxSpeed(4)):this.intelligence>55&&this.intelligence<=60?(super.updateImage("data/graphics/sprites/B2R3.png"),this.behavior.setMaxSpeed(5)):this.intelligence>60&&this.intelligence<=65?(super.updateImage("data/graphics/sprites/B2R4.png"),this.behavior.setMaxSpeed(6)):this.intelligence>65&&this.intelligence<=70?(super.updateImage("data/graphics/sprites/B2R5.png"),this.behavior.setMaxSpeed(7)):this.intelligence>70&&this.intelligence<=75?(super.updateImage("data/graphics/sprites/B2R6.png"),this.behavior.setMaxSpeed(8)):this.intelligence>75&&this.intelligence<=80?(super.updateImage("data/graphics/sprites/B2R7.png"),this.behavior.setMaxSpeed(9)):this.intelligence>80&&this.intelligence<=85?(super.updateImage("data/graphics/sprites/B2R8.png"),this.behavior.setMaxSpeed(10)):this.intelligence>85&&this.intelligence<=90?(super.updateImage("data/graphics/sprites/B2R9.png"),this.behavior.setMaxSpeed(11)):this.intelligence>90&&this.intelligence<=95?(super.updateImage("data/graphics/sprites/B2R10.png"),this.behavior.setMaxSpeed(12)):this.intelligence>95&&this.intelligence<=100?(super.updateImage("data/graphics/sprites/R2W1.png"),this.behavior.setMaxSpeed(13)):this.intelligence>100&&this.intelligence<=105?(super.updateImage("data/graphics/sprites/R2W2.png"),this.behavior.setMaxSpeed(14)):this.intelligence>105&&this.intelligence<=110?(super.updateImage("data/graphics/sprites/R2W3.png"),this.behavior.setMaxSpeed(15)):this.intelligence>110&&this.intelligence<=115?(super.updateImage("data/graphics/sprites/R2W4.png"),this.behavior.setMaxSpeed(16)):this.intelligence>115&&this.intelligence<=120?(super.updateImage("data/graphics/sprites/R2W5.png"),this.behavior.setMaxSpeed(17)):this.intelligence>125&&this.intelligence<=130?(super.updateImage("data/graphics/sprites/R2W6.png"),this.behavior.setMaxSpeed(18)):this.intelligence>130&&this.intelligence<=135?(super.updateImage("data/graphics/sprites/R2W7.png"),this.behavior.setMaxSpeed(19)):this.intelligence>135&&this.intelligence<=140?(super.updateImage("data/graphics/sprites/R2W8.png"),this.behavior.setMaxSpeed(20)):this.intelligence>140&&this.intelligence<=145?(super.updateImage("data/graphics/sprites/R2W9.png"),this.behavior.setMaxSpeed(20)):this.intelligence>145&&this.intelligence<=150?(super.updateImage("data/graphics/sprites/R2W10.png"),this.behavior.setMaxSpeed(21)):this.intelligence>150&&(super.updateImage("data/graphics/sprites/R2W11.png"),this.behavior.setMaxSpeed(22))}fixedUpdate(){this.intelligence=this.coefIQ*this.interactionIQ+this.coefEdu*this.education+this.coefIncome*this.income+this.intercept}getCurrentIntelligence(){return this.intelligence}getBehavior(e){this.behavior=e}setInteractionIQ(e,t){var i=this.round(e,2),n=this.round(t,2);this.interactionIQ=(i+n)/2}round(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}}},function(e,t,i){i(1);e.exports=class{constructor(e,t,i,n){console.log("constructor entered"),this.screenSize=1520,this.numberOfBars=0,this.fps=24,this.maxPossibleEnvironments=5,this.environmentCount=e,this.environmentWidth=t,this.generationNumber=n,this.canvasHeight=i,this.barCanvas=document.createElement("canvas"),this.barCanvas.width=this.screenSize,this.barCanvas.height=100,this.barCanvas.style.top=800,this.barCanvas.style.left=6,document.body.appendChild(this.barCanvas),this.barContext=this.barCanvas.getContext("2d"),this.barContext.fillStyle="#FF0000",this.barContext.font="40px Arial",this.barContext.fillText(this.generationNumber+" Generations",this.screenSize-350,63),this.barThickness=this.barCanvas.width/this.generationNumber,this.endProgram=!1}barIncrease(){this.barContext.fillRect(this.numberOfBars/this.environmentCount*this.barThickness,0,this.barThickness/this.environmentCount,275),this.numberOfBars++,this.numberOfBars/this.environmentCount==this.generationNumber&&(this.endProgram=!0)}}},function(e,t,i){const n=i(1),s=(i(0),i(3));let a=[],r=window.location.href,h=new URL(r);this.environmentCount=h.searchParams.get("environmentCount"),this.generationNumber=h.searchParams.get("generationNumber"),this.canvasHeight=600,this.canvasWidth=1520/this.environmentCount,this.environmentID;for(let e=0;e<this.environmentCount;e++)a.push(new n(h.searchParams.get("env"+e+"iq"),h.searchParams.get("env"+e+"words"),h.searchParams.get("env"+e+"income"),h.searchParams.get("env"+e+"education"),h.searchParams.get("coefEquationIQ"),h.searchParams.get("coefEquationEducation"),h.searchParams.get("coefEquationIncome"),h.searchParams.get("intercept"),this.environmentCount,this.canvasWidth,this.canvasHeight)),this.environmentID=e+1,a[e].getEnvironmentID(this.environmentID);this.generationBar=new s(this.environmentCount,this.canvasWidth,this.canvasHeight,this.generationNumber);for(let e=0;e<a.length;e++)a[e].getGenerationBar(this.generationBar)},function(e,t){e.exports=class{constructor(e,t,i){this.x=e,this.y=t,this.z=i,this.behaviors=[]}update(){this.behaviors.forEach(e=>{e.update(this)})}lateUpdate(){this.behaviors.forEach(e=>{e.lateUpdate()})}fixedUpdate(){this.behaviors.forEach(e=>{e.fixedUpdate()})}draw(e){}onKeyUp(e){this.behaviors.forEach(t=>{t.onKeyUp(e)})}onKeyDown(e){this.behaviors.forEach(t=>{t.onKeyDown(e)})}onKeyPress(e){this.behaviors.forEach(t=>{t.onKeyPress(e)})}onClick(e){this.behaviors.forEach(t=>{t.onClick(e)})}attachBehavior(e){e.onAttachBehavior(this),this.behaviors.push(e)}getX(){return this.x}getY(){return this.y}setX(e){this.x=e}setY(e){this.y=e}getWidth(){return 0}getHeight(){return 0}average(e){}}},function(e,t,i){const n=i(7);i(2);e.exports=class extends n{constructor(e,t){super(),this.environment=e,this.environmentWidth=e.getWidth(),this.environmentHeight=e.getHeight(),this.maxSpeed=5,this.direction={x:this.generateRandomSpeed(this.maxSpeed),y:this.generateRandomSpeed(this.maxSpeed)}}onClick(e){console.log("1 game object was clicked"),console.log("Current int:"+this.currentIntelligence)}update(e){this.currentIntelligence=e.intelligence,e.getX()<=0?this.direction.x=this.convertNumber(this.generateRandomSpeed(this.maxSpeed),1):e.getX()>=this.environmentWidth-32&&(this.direction.x=this.convertNumber(this.generateRandomSpeed(this.maxSpeed),-1)),e.getY()<=0?this.direction.y=this.convertNumber(this.generateRandomSpeed(this.maxSpeed),1):e.getY()>=this.environmentHeight-32&&(this.direction.y=this.convertNumber(this.generateRandomSpeed(this.maxSpeed),-1)),e.setX(e.getX()+this.direction.x),e.setY(e.getY()+this.direction.y)}convertNumber(e,t){return t*Math.abs(e)}generateRandomSpeed(e){let t=Math.floor(Math.random()*e)+1;return 1==Math.floor(2*Math.random())?t:-t}setMaxSpeed(e){this.maxSpeed=e}}},function(e,t){e.exports=class{constructor(){this.gameObject=null}initialize(){}onKeyUp(e){}onKeyDown(e){}onKeyPress(e){}onClick(e){}update(e){}fixedUpdate(){}lateUpdate(){}onAttachBehavior(e){this.gameObject=e}}}]);